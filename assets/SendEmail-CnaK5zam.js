import{r as p,j as e,L as x,g as u}from"./index-DjYsua6Q.js";const j=a=>{const[o,r]=p.useState(window.matchMedia(a).matches);return p.useEffect(()=>{const c=window.matchMedia(a),s=()=>r(c.matches);return c.addEventListener("change",s),()=>c.removeEventListener("change",s)},[a]),o};function v({arrDataImg:a}){const[o,r]=p.useState(null);return e.jsx("div",{className:"box2",children:e.jsxs("div",{className:"contentBox2",children:[e.jsx("h2",{className:"sr-only",children:"Products"}),e.jsx("div",{className:"grid grid-cols-2 gap-x-[10px] gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8",style:{gap:j("(max-width: 1020px)")&&"15px 5px"},children:a.length>0?a==null?void 0:a.map((s,t)=>{var n,d,i;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"itemBox2 aspect-h-1 mx-auto aspect-w-1 xl:aspect-h-8 xl:aspect-w-7 relative ",children:[e.jsx(x,{to:`/product/${s==null?void 0:s.id}`,onMouseEnter:()=>r(t),onMouseLeave:()=>r(null),children:e.jsx("div",{className:"itemImgProduct aspect-h-1 aspect-w-1 w-full overflow-hidden bg-gray-200 xl:aspect-h-8 xl:aspect-w-7",style:{background:`url('${o!==t?s==null?void 0:s.images[0].src:(d=(n=s==null?void 0:s.images)==null?void 0:n[1])==null?void 0:d.src}') center / cover no-repeat`}})},s==null?void 0:s.id),e.jsx("div",{className:"color-product",children:(i=s==null?void 0:s.attributes.find(l=>(l==null?void 0:l.product_attribute_id)==1))==null?void 0:i.attribute_values.map((l,h)=>e.jsx("div",{style:{border:"1px solid",padding:"1px",borderColor:s.id==l.name.split("|")[1]?"#000":"transparent"},children:e.jsx("nav",{onClick:()=>{document.location.href=`/product/${l.name.split("|")[1]}`},style:{background:l.name.split("|")[0]}})},h))}),e.jsxs("div",{className:"itemInfoProduct",children:[e.jsx("h1",{className:"productTitle",children:s==null?void 0:s.short_description}),e.jsxs("h1",{className:"productPrice",children:[s==null?void 0:s.price," ",e.jsx("span",{style:{fontFamily:"font-book, sans-serif"},children:"₽"})]})]})]},t)})}):e.jsx("h1",{children:"Loading..."})})]})})}function m(){const[a,o]=p.useState(""),[r,c]=p.useState(""),s=n=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n),t=async n=>{if(n.preventDefault(),!s(a))c("Введите корректный email!");else{c("");const d=localStorage.getItem("token");try{const i=await u.post(`news_letter_subscriptions/${a}/deactivate`,{},{headers:{Authorization:`Bearer ${d}`}});o("")}catch(i){console.error(i)}}};return e.jsxs("div",{className:"sendEmail",children:[e.jsxs("div",{className:"sendEmailTop",children:[e.jsx("h1",{children:"Скоро новый дроп"}),e.jsx("p",{children:"Хочешь узнавать о всех новинках первый?"}),e.jsx("p",{children:"Подпишись на рассылку!"})]}),e.jsxs("form",{onSubmit:t,className:"sendEmailForm",children:[e.jsx("input",{type:"email",id:"email",onChange:n=>o(n.target.value.trim()),name:"email",placeholder:"Введите e-mail"}),r.length>0&&e.jsx("p",{className:"error-p-send-email",style:{position:"absolute",color:"red"},children:r}),e.jsx("button",{type:"submit",children:"Подписаться"})]})]})}export{v as B,m as S};
